<md-toolbar class="header-bar" color="primary">
    <span class="title">Distrib. rôles</span>
    <button md-raised-button color="accent" (click)="cancel()">Annuler</button>
    <button md-raised-button color="accent" (click)="validate()">Valider</button>
</md-toolbar>

<div class="content">
    <p><span class="bold">{{availableCards.length}}</span> cartes disponibles<p>
    <p class="hint"> Les cartes non attribuées seront distribuées au hasard</p>
    <form>
        <ul class="assignations" *ngIf="assignations && assignations.length">
            <li class="assignation" *ngFor="let assignation of assignations;">
                <span>{{assignation.player.name}} {{assignation.cardIndex}}</span>
                <md-select 
                    *ngIf="loaded && cards && cards.length"
                    (change)="onSelectChange()"
                    [(ngModel)]="assignation.cardIndex"
                    [name]="'assignation-' + i">
                    <md-option [value]="-1">Au hasard</md-option>
                    <md-option 
                        *ngFor="let card of cards"
                        [value]="card.cardIndex"
                        [disabled]="card.taken && card.cardIndex !== assignation.cardIndex">
                        {{roles[card.roleId].name}} {{card.cardIndex}} {{assignation.cardIndex}}
                    </md-option>
                </md-select>
            </li>
        </ul>
    </form>
</div>